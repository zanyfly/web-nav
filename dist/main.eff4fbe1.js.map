{"version":3,"sources":["main.js"],"names":["$sitelist","$","jsonstring","localStorage","getItem","console","log","list","JSON","parse","logo","link","name","urlPath","urlString","length","url","URL","host","split","slice","join","updateList","find","remove","forEach","item","index","$li","before","on","window","open","e","stopPropagation","splice","click","prompt","indexOf","push","toUpperCase","onbeforeunload","stringify","setItem"],"mappings":"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","file":"main.eff4fbe1.js","sourceRoot":"../src","sourcesContent":["const $sitelist = $('.sitelist')\nconst jsonstring = localStorage.getItem('list')\nconsole.log(jsonstring)\nconst list = JSON.parse(jsonstring) || [\n    { logo: 'A', link: 'https://www.acfun.cn/', name: \"acfun\" },\n    { logo: 'B', link: 'https://www.bilibili.com/', name: 'bilibili' }\n]\n\nconst urlPath = (urlString) => {\n    if (urlString.length == 0) {\n        return \"EMPTY\"\n    }\n    const url = new URL(urlString)\n    return url.host.split('.').slice(0, -1).join('.')\n}\n\nconst updateList = () => {\n    $sitelist.find('li:not(.last)').remove()\n    list.forEach((item, index) => {\n        let $li = $(`\n        <li>\n            <div class=\"site\">\n                <div class=\"logo\">${item.logo || \"\"}\n                </div>\n                <div class=\"link\">${item.name || \"\"}</div>\n                <div class=\"delete\">              \n                    <svg class=\"icon\" aria-hidden=\"true\">\n                        <use xlink:href=\"#icon-delete\"></use>\n                    </svg>\n                </div>\n            </div>\n    </li>\n        `)\n        $('.last').before($li)\n        $li.on('click', () => {\n            window.open(item.link)\n        })\n        $li.on('click', '.delete', (e) => {\n            e.stopPropagation()\n            list.splice(index, 1)\n            updateList()\n        })\n\n    });\n}\n\nupdateList()\n\n$('.addbutton').click(() => {\n    let urlString = window.prompt('input the website ')\n    if (urlString.indexOf('http') !== 0) {\n        urlString = 'https://' + urlString\n    }\n    list.push({ logo: urlPath(urlString)[0].toUpperCase(), link: urlString, name: urlPath(urlString) })\n    updateList()\n})\n\nwindow.onbeforeunload = () => {\n    const jsonstring = JSON.stringify(list)\n    localStorage.setItem('list', jsonstring)\n}"]}